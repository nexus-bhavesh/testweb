<?php

/**
 * Update default settings
 * 
 * @package Buttons With Style Pro
 * @since 1.0.0
 */
function finaforte_default_settings() {

    global $finaforte_options;

    $finaforte_options = array(
                            'solvency_green_text'  => '',
                            'advicer_photo'  => '',
                            'custom_css'  => '',
                            'custom_css'  => '',
                            'color_1'      => '',
                            'color_2'       => '',
                        );
    
    $default_options = apply_filters('finaforte_options_default_values', $finaforte_options );

    // Update default options
    update_option( 'finaforte_options', $default_options );

    // Overwrite global variable when option is update
    $finaforte_options = finaforte_get_settings();
}

/**
 * Get Settings From Option Page
 * 
 * Handles to return all settings value
 * 
 * @package Buttons With Style Pro
 * @since 1.0.0
 */
function finaforte_get_settings() {
  
    $options    = get_option('finaforte_options');
    $settings   = is_array($options)  ? $options : array();

    return $settings;
}

/**
 * Escape Tags & Slashes
 *
 * Handles escapping the slashes and tags
 *
 * @package Buttons With Style Pro
 * @since 1.0.0
 */
function finaforte_esc_attr($data) {
    return esc_attr( stripslashes($data) );
}

/**
 * Strip Slashes From Array
 *
 * @package Buttons With Style Pro
 * @since 1.0.0
 */
function finaforte_slashes_deep($data = array(), $flag = false) {
  
    if($flag != true) {
        $data = finaforte_nohtml_kses($data);
    }
    $data = stripslashes_deep($data);
    return $data;
}

/**
 * Strip Html Tags 
 * 
 * It will sanitize text input (strip html tags, and escape characters)
 * 
 * @package Buttons With Style Pro
 * @since 1.0.0
 */

function finaforte_nohtml_kses($data = array()) {
  
  if ( is_array($data) ) {
    
    $data = array_map('finaforte_nohtml_kses', $data);
    
  } elseif ( is_string( $data ) ) {
    $data = trim( $data );
    $data = wp_filter_nohtml_kses($data);
  }
  
  return $data;
}

/**
 * Get an option
 * Looks to see if the specified setting exists, returns default if not
 * 
 * @package Buttons With Style Pro
 * @since 1.0.0
 */
function finaforte_get_option( $key = '', $default = false ) {
    global $finaforte_options;
    $finaforte_options = finaforte_get_settings();

    $value = ! empty( $finaforte_options[ $key ] ) ? $finaforte_options[ $key ] : $default;
    $value = apply_filters( 'finaforte_get_option', $value, $key, $default );
    
    return apply_filters( 'finaforte_get_option_' . $key, $value, $key, $default );
}

function mortgage_basic_form() {
    echo '<div id="div_finaforte">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">    
    <style>
        .error {
            border: solid 1px red !important;
        }
    </style>
    <div class="main">
                    <div class="container">
                            <div class="login-page">
                                    <h1>Benieuwd naar uw maximale hypotheek?</h1>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed at massaeget justo consequat fermentum ut nec turpis. Morbi tristique temporpurus, ac lacinia risus tincidunt et. </p>
                                    <p class="sub-heading"><i>Na het invullen van uw gegeves kunt U direct starten met berekenen!</i></p>
                                    <form class="login-form" name="form_basic" id="form_basic">
                                            <div class="form-group row">
                                                    <label for="staticEmail" class="col-sm-3 col-form-label">Naam</label>
                                                    <div class="col-sm-9">
                                                            <input type="text" name="txt_name" id="txt_name" class="form-control" maxlength="256">
                                                    </div>
                                            </div>
                                            <div class="form-group row">
                                                    <label for="inputPassword" class="col-sm-3 col-form-label">Telefoon</label>
                                                    <div class="col-sm-9">
                                                            <input type="text" name="txt_phone" id="txt_phone" class="form-control" maxlength="256">
                                                    </div>
                                            </div>
                                            <div class="form-group row">
                                                    <label for="staticEmail" class="col-sm-3 col-form-label">E-mail</label>
                                                    <div class="col-sm-9">
                                                            <input type="email" name="txt_email" id="txt_email" class="form-control" maxlength="256">
                                                    </div>
                                            </div>
                                            <div class="form-group row">                        
                                                    <label  class="col-sm-3 col-form-label"></label>
                                                    <div class="col-sm-9 tag-line" id="div_privacy">
                                                            <label class="login_check">
                                                                <input type="checkbox" name="chk_privacy" id="chk_privacy">
                                                                <span class="checkmark"></span>
                                                            </label>
                                                            <p>Ik ga akkoord met het <a href="javascript:;"> privacybeleid</a> van Finaforte.</p>
                                                    </div>
                                            </div>
                                            <button type="button" class="btn btn-primary btn-yellow" onclick="ajaxSubmit()">Start met berekenen</button>
                                    </form>
                            </div>
                    </div>
            </div>
            <div class="mainpage-footer">
                    <div class="container">
                            <h2>We maken voor u een op maat gemaakte berekening.</h2>
                            <p><a href="#"><i class="fa fa-file-pdf-o fa-2x" aria-hidden="true"></i><span>Bekijk een voorbeeldberekening</span></a></p>
                    </div>
            </div>
        </div>';
    ?>
    <script>
        function ajaxSubmit() {
            var newbasicForm = jQuery("#form_basic").serialize();
            jQuery("#form_basic .error").each(function () {
                jQuery(this).removeClass("error");
            });
            jQuery.ajax({
                type: "POST",
                url: "<?php echo admin_url( 'admin-ajax.php' ); ?>",
                data: newbasicForm + '&action=basic_form',
                success: function (responseText) {
                    responseText = jQuery.parseJSON(responseText);
                    if (responseText.status == '1')
                    {
                        alert("Load calculator first page here!");
                        loadstart_calculation();
                    }else{
                        messageData = responseText.error;
                        for (i = 0; i < messageData.length; i++)
                        {
                            jQuery("#form_basic #" + messageData[i].name).addClass("error");
                        }
                    }
                }
            });
            return false;
        }
        
        function loadstart_calculation(){
            jQuery.ajax({
                type: "POST",
                url: "<?php echo admin_url( 'admin-ajax.php' ); ?>",
                data: '&action=start_calculationform',
                success: function (responseText) {
                    $("#div_finaforte").html(responseText);
                }
            });
        }
    </script>    
    <?php
}

function start_calculation_form(){
    echo '<div id="div_calculationform">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
   
    <div class="start-page">
        <div class="container">
            <h1>Start met berekenen</h1>
            <div class="start-data">
                <div class="row">               
                    <div class="col-md-8 stat-left">
                        <div class="start-box" id="div_box1">
                            <h2 class="big-heading text-center">Wat is uw rechtsvorm?</h2>
                            <div class="row">
                                <div class="col-md-4">
                                    <label class="rechtsvorm">                                          
                                        <input type="radio" checked="checked" name="group1" value="in1">
                                        <span class="checkmark"></span>
                                        <p><i class="fa fa-user-circle-o fa-3x" aria-hidden="true"></i><strong>Freelancer /<br /> Eenmanszaak</strong></p>  
                                    </label>
                                </div>
                                <div class="col-md-4">
                                    <label class="rechtsvorm">                                          
                                        <input type="radio" name="group1" value="tv1">                                          
                                        <span class="checkmark"></span> 
                                        <p><i class="fa fa-users fa-3x" aria-hidden="true"></i><strong>V.O.F</strong></p>                       
                                    </label>
                                </div>
                                <div class="col-md-4">
                                    <label class="rechtsvorm">                                          
                                        <input type="radio" name="group1" value="ph1">                                          
                                        <span class="checkmark"></span>
                                        <p><i class="fa fa-building fa-3x" aria-hidden="true"></i><strong>BV / DGA</strong></p>
                                    </label>
                                </div>
                            </div>
                            <div id="in1" class="desc" data-box="1">
                                <h2 class="big-heading text-center"><span> Hoeveel jaar bent u al ondernemer?</span> <i class="fa fa-info-circle" aria-hidden="true"></i></h2>
                                <div class="demo-output demo-output2">
                                    <input id="single_slider_first" type="hidden" value="0"/>
                                    <div class="gray-line1"></div>
                                    <div class="gray-line2"></div>
                                    <div class="gray-line3"></div>
                                    <div class="gray-line4"></div>
                                </div>
                            </div>
                            
                            <div id="tv1" class="desc" data-box="7">
                                <h2 class="big-heading text-center"><span> Hoeveel jaar bent u al ondernemer?</span> <i class="fa fa-info-circle" aria-hidden="true"></i></h2>
                                <div class="demo-output">
                                    <input class="single-slider" type="hidden" value="0"/>
                                    <div class="gray-line1"></div>
                                    <div class="gray-line2"></div>
                                    <div class="gray-line3"></div>
                                </div>                            
                            </div>
                            
                            <div id="ph1" class="desc" data-box="8">
                                <h2 class="big-heading text-center"><span> Hoeveel jaar bent u al ondernemer?</span> <i class="fa fa-info-circle" aria-hidden="true"></i></h2>
                                <div class="demo-output">
                                <input class="single-slider" type="hidden" value="0"/>
                                    <div class="gray-line1"></div>
                                    <div class="gray-line2"></div>
                                    <div class="gray-line3"></div>
                                </div>
                            <div class="check-swich" id="div_holding" style="display:none;">
                                <strong>Is uw onderneming onderdeel van een holding?</strong>
                                <div class="onoffswitch">
                                    <input type="checkbox" name="onoffswitch3" class="onoffswitch-checkbox" id="myonoffswitch3" checked>
                                    <label class="onoffswitch-label" for="myonoffswitch3">
                                        <span class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="box-msg2" id="div_holdingtext" style="display:none;"> 
                                Heeft U meerdere BV\'s of een holding werk-maatschappij structuur? Gebruik dan altijd de gegevens uit de geconsolideerde jaarcijfers.
                                </div>                              
                            </div>
                        </div>
                        
                        <div class="start-box" id="div_box2" style="display:none;">
                            <div class="jaar-value">
                                <h2 class="big-heading text-center"><span>Inkomensgegevens?</span> <i class="fa fa-info-circle" aria-hidden="true"></i></h2>
                                <div class="row">
                                    <div id="div_forhalfyear" style="width:100%;">
                                        <h4 class="big-sub-heading big-heading-black text-center"><span>Eerste 1/2 jaar</span> </h4>
                                        <div class="row justify-content-md-center">
                                            <div class="col-md-6 income-data">                                      
                                                <div class="form-group text-center">
                                                    <label for="Salaris-1" class="col-form-label ">Winst uit onderneming</label>
                                                    <div class="jaar-value-box">    
                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                        <input class="form-control numbers" maxlength="256" dir="rtl" type="text" name="txt_halfyear_first" id="txt_halfyear_first" onkeyup="halfyear_calculation()">
                                                    </div>                                      
                                                </div>
                                                <div class="form-group text-center">
                                                    <label for="Salaris-1" class="col-form-label">Prognose hele jaar</label>    
                                                    <div class="jaar-value-box">    
                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                        <input class="form-control numbers" maxlength="256" dir="rtl" type="text" name="txt_halfyear_second" id="txt_halfyear_second" onkeyup="halfyear_calculation()">  
                                                    </div>                                  
                                                </div>
                                                <h4 class="small-heading">Loon over het afgelopen jaar</h4>
                                                <div class="form-group text-center">
                                                    <label for="Salaris-1" class="col-form-label">Volledig jaarsalaris</label>  
                                                    <div class="jaar-value-box">    
                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                        <input class="form-control numbers" maxlength="256" dir="rtl" type="text" name="txt_halfyear_third" id="txt_halfyear_third" onkeyup="halfyear_calculation()">    
                                                    </div>                                  
                                                </div>
                                            </div>                                  
                                        </div>
                                    </div>
                                    <div class="col-md-4" id="div_inkomensgegevens_1">
                                        <h5>Laatste jaar</h5>
                                        <div class="form-group">
                                            <label for="Salaris-1" class="col-form-label">Salaris</label>
                                            <div class="jaar-value-box">    
                                                <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_salaris[]" id="txt_salaris_1" onkeyup="incomedata_calculation()">
                                            </div>                                      
                                        </div>
                                        <div class="form-group">
                                            <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                            <div class="jaar-value-box">    
                                                <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_dividend[]" id="txt_dividend_1" onkeyup="incomedata_calculation()">  
                                            </div>
                                        </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_overwinst[]" id="txt_overwinst_1" onkeyup="incomedata_calculation()">    
                                                </div>                                  
                                            </div>
                                        </div>
                                        <div class="col-md-4" id="div_inkomensgegevens_2">
                                            <h5>2 jaar geleden</h5>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                    <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_salaris[]" id="txt_salaris_2" onkeyup="incomedata_calculation()">
                                                </div>                                      
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_dividend[]" id="txt_dividend_2" onkeyup="incomedata_calculation()">  
                                                </div>                                  
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_overwinst[]" id="txt_overwinst_2" onkeyup="incomedata_calculation()">    
                                                </div>                                  
                                            </div>
                                        </div>
                                        <div class="col-md-4" id="div_inkomensgegevens_3">
                                            <h5>3 jaar geleden</h5>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                    <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_salaris[]" id="txt_salaris_3" onkeyup="incomedata_calculation()">
                                                </div>                                      
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_dividend[]" id="txt_dividend_3" onkeyup="incomedata_calculation()">  
                                                </div>                                  
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_overwinst[]" id="txt_overwinst_3" onkeyup="incomedata_calculation()">    
                                                </div>                                  
                                            </div>
                                        </div>
                                    </div>
                                    <div id="accordion" class="accordion-value">
                                    <div class="card">
                                        <div class="card-header collapsed" data-toggle="collapse" href="#collapse_1">
                                            <a class="card-title">
                                               Solvabiliteit toevoegen
                                            </a>
                                        </div>
                                        <div id="collapse_1" class="card-body collapse" data-parent="#accordion" >
                                            <div class="row">
                                                <div class="col-md-4" id="div_solvabiliteit_1">
                                                    <h5>Laatste jaar</h5>
                                                    <div class="form-group">
                                                        <label for="Salaris-1" class="col-form-label">Eigen vermogen</label>
                                                        <div class="jaar-value-box">    
                                                            <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                            <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_eigenvermogen[]" id="txt_eigenvermogen_1" onkeyup="calculate_solvabiliteit()">
                                                        </div>                                      
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="Salaris-1" class="col-form-label">Balanstotaal</label>  
                                                        <div class="jaar-value-box">    
                                                            <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                            <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_balanstotaal[]" id="txt_balanstotaal_1" onkeyup="calculate_solvabiliteit()">  
                                                        </div>                                  
                                                    </div>                                                    
                                                </div>
                                                <div class="col-md-4" id="div_solvabiliteit_2">
                                                    <h5>2 jaar geleden</h5>
                                                    <div class="form-group">
                                                        <label for="Salaris-1" class="col-form-label">Eigen vermogen</label>
                                                        <div class="jaar-value-box">    
                                                            <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                            <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_eigenvermogen[]" id="txt_eigenvermogen_2" onkeyup="calculate_solvabiliteit()">
                                                        </div>                                      
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="Salaris-1" class="col-form-label">Balanstotaal</label>  
                                                        <div class="jaar-value-box">    
                                                            <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                            <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_balanstotaal[]" id="txt_balanstotaal_2" onkeyup="calculate_solvabiliteit()">  
                                                        </div>                                  
                                                    </div>                                                    
                                                </div>
                                                <div class="col-md-4" id="div_solvabiliteit_3">
                                                    <h5>3 jaar geleden</h5>
                                                    <div class="form-group">
                                                        <label for="Salaris-1" class="col-form-label">Eigen vermogen</label>
                                                        <div class="jaar-value-box">    
                                                            <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                            <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_eigenvermogen[]" id="txt_eigenvermogen_3" onkeyup="calculate_solvabiliteit()">
                                                        </div>                                      
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="Salaris-1" class="col-form-label">Balanstotaal</label>
                                                        <div class="jaar-value-box">
                                                            <i class="fa fa-eur" aria-hidden="true"></i>
                                                            <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_balanstotaal[]" id="txt_balanstotaal_3" onkeyup="calculate_solvabiliteit()">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div id="div_solvabiliteitsscore" class="solvabiliteitsscore" style="display:none;">
                                                <h6 class="Solvency-total" id="div_solvency_percentage"></h6>
                                                <div class="radio-color">
                                                    <div class="colorline1 colorline-box">
                                                        <h2 class="big-heading text-center">Uw solvabiliteitsscore</h2>	
                                                        <div class="liner-gradiance">
                                                            <div class="more-then-color" style="background: #ff0100;background: -moz-linear-gradient(right, #ff0100 0%, #ff8600 33%, #dada00 66%, #92ff00 100%); background: -webkit-linear-gradient(right, #ff0100 0%,#ff8600 33%,#dada00 66%,#92ff00 100%); background: linear-gradient(to right, #ff0100 0%,#ff8600 33%,#dada00 66%,#92ff00 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#ff0100\', endColorstr=\'#92ff00\',GradientType=0);">
                                                                <div class="overlay-image" style="left: 65%">
                                                                    <img src="'.FINAFORTE_URL.'/assets/images/line-arrow.png">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <p class="text-center">Uw solvabiliteitscore is niet helemaal naar ratio. Let er op bij uw aanvraag.</p>
                                                    </div>					
                                                </div>
                                                </div>
                                            </div>
                                            </div>
                                            <div class="card-header collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_2">
                                                <a class="card-title">
                                                  Liquiditeit toevoegen
                                                </a>
                                            </div>
                                            <div id="collapse_2" class="card-body collapse" data-parent="#accordion" >
                                               <div class="row">
                                                    <div class="col-md-4" id="div_liquiditeit_1">
                                                        <h5>Laatste jaar</h5>
                                                        <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Vlottende activa</label>
                                                            <div class="jaar-value-box">    
                                                                <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_vlottendeactiva[]" id="txt_vlottendeactiva_1" onkeyup="calculate_liquiditeit()">
                                                            </div>                                      
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Kort vreemd vermogen</label>  
                                                            <div class="jaar-value-box">    
                                                                <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_kortvreemdvermogen[]" id="txt_kortvreemdvermogen_1" onkeyup="calculate_liquiditeit()">  
                                                            </div>                                  
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4" id="div_liquiditeit_2">
                                                        <h5>2 jaar geleden</h5>
                                                        <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Vlottende activa</label>
                                                            <div class="jaar-value-box">    
                                                                <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_vlottendeactiva[]" id="txt_vlottendeactiva_2" onkeyup="calculate_liquiditeit()">
                                                            </div>                                      
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Kort vreemd vermogen</label>  
                                                            <div class="jaar-value-box">    
                                                                <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_kortvreemdvermogen[]" id="txt_kortvreemdvermogen_2" onkeyup="calculate_liquiditeit()">  
                                                            </div>                                  
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4" id="div_liquiditeit_3">
                                                        <h5>3 jaar geleden</h5>
                                                        <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Vlottende activa</label>
                                                            <div class="jaar-value-box">    
                                                                <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_vlottendeactiva[]" id="txt_vlottendeactiva_3" onkeyup="calculate_liquiditeit()">
                                                            </div>                                      
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Kort vreemd vermogen</label>  
                                                            <div class="jaar-value-box">    
                                                                <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                <input type="text" class="form-control numbers" dir="rtl" maxlength="256" name="txt_kortvreemdvermogen[]" id="txt_kortvreemdvermogen_3" onkeyup="calculate_liquiditeit()">  
                                                            </div>                                  
                                                        </div>
                                                    </div>
                                                    <div id="div_liquiditeitsscore" class="liquiditeitsscore" style="display:none;">
                                                    <h6 class="Solvency-total" id="div_liquidity_percentage"></h6>
                                                    <div class="radio-color">
                                                        <div class="colorline1 colorline-box">
                                                            <h2 class="big-heading text-center">Uw liquiditeitsscore</h2>	
                                                            <div class="liner-gradiance">
                                                                <div class="more-then-color" style="background: #ff0100;background: -moz-linear-gradient(right, #ff0100 0%, #ff8600 33%, #dada00 66%, #92ff00 100%); background: -webkit-linear-gradient(right, #ff0100 0%,#ff8600 33%,#dada00 66%,#92ff00 100%); background: linear-gradient(to right, #ff0100 0%,#ff8600 33%,#dada00 66%,#92ff00 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#ff0100\', endColorstr=\'#92ff00\',GradientType=0);">
                                                                    <div class="overlay-image" style="left: 65%">
                                                                        <img src="'.FINAFORTE_URL.'/assets/images/line-arrow.png">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <p class="text-center">Uw liquiditeitsscore is niet helemaal naar ratio. Let er op bij uw aanvraag.</p>
                                                        </div>					
                                                    </div>
                                                    </div>
                                                </div>
                                            </div>                                      
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="start-box" id="div_box3" style="display:none;">
                                <h2 class="big-heading text-center">Heeft U een partner?</h2>
                                <div class="parner-radio">
                                    <label class="partner">One
                                        <input type="radio" checked="checked" name="radio">
                                        <span class="checkmark"></span>
                                    </label>
                                    <label class="partner">Two
                                        <input type="radio" name="radio">
                                        <span class="checkmark"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="start-box" id="div_box4" style="display:none;">
                            <h2 class="big-heading text-center">Gegevens van uw partner?</h2>
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="rechtsvorm">                                          
                                        <input type="radio" checked="checked" name="group1" value="in1">
                                        <span class="checkmark"></span>
                                        <p><i class="fa fa-eur fa-3x" aria-hidden="true"></i><strong>Loondienst</strong></p>    
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="rechtsvorm">                                          
                                        <input type="radio" name="group1" value="in1">
                                        <span class="checkmark"></span>
                                        <p><i class="fa fa-user-circle-o fa-3x" aria-hidden="true"></i><strong>Freelancer /<br /> Eenmanszaak</strong></p>  
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="rechtsvorm">                                          
                                        <input type="radio" name="group1" value="tv1">                                          
                                        <span class="checkmark"></span> 
                                        <p><i class="fa fa-users fa-3x" aria-hidden="true"></i><strong>V.O.F</strong>   </p>                        
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <label class="rechtsvorm">                                          
                                        <input type="radio" name="group1" value="ph1">                                          
                                        <span class="checkmark"></span>
                                        <p><i class="fa fa-building fa-3x" aria-hidden="true"></i><strong>BV / DGA</strong></p>
                                    </label>
                                </div>
                            </div>  
                            <h2 class="big-heading text-center"><span> Hoeveel jaar bent u al ondernemer?</span> <i class="fa fa-info-circle" aria-hidden="true"></i></h2>
                            <div class="demo-output">
                                <input class="single-slider" id="single_slider_2" type="hidden" value="0"/>
                                <div class="gray-line1"></div>
                                <div class="gray-line2"></div>
                                <div class="gray-line3"></div>
                            </div>
                        </div>
                        <div class="start-box" id="div_box5" style="display:none;">
                            <div class="jaar-value">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <h5>Laatste jaar</h5>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                    <input type="text" class="form-control" maxlength="256">
                                                </div>                                      
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control" maxlength="256">    
                                                </div>                                  
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control" maxlength="256">    
                                                </div>                                  
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <h5>2 jaar geleden</h5>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                    <input type="text" class="form-control" maxlength="256">
                                                </div>                                      
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control" maxlength="256">    
                                                </div>                                  
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control" maxlength="256">    
                                                </div>                                  
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <h5>3 jaar geleden</h5>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                    <input type="text" class="form-control" maxlength="256">
                                                </div>                                      
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control" maxlength="256">    
                                                </div>                                  
                                            </div>
                                            <div class="form-group">
                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                <div class="jaar-value-box">    
                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                    <input type="text" class="form-control" maxlength="256">    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="accordion" class="accordion-value">
                                    <div class="card">
                                        <div class="card-header collapsed" data-toggle="collapse" href="#collapse_11">
                                            <a class="card-title">
                                               Solvabiliteit toevoegen
                                            </a>
                                        </div>
                                        <div id="collapse_11" class="card-body collapse" data-parent="#accordion" >
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <h5>Laatste jaar</h5>
                                                    <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                            <div class="jaar-value-box">    
                                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                    <input type="text" class="form-control" maxlength="256">
                                                            </div>                                      
                                                    </div>
                                                    <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                            <div class="jaar-value-box">    
                                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                    <input type="text" class="form-control" maxlength="256">    
                                                            </div>                                  
                                                    </div>
                                                    <div class="form-group">
                                                            <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                            <div class="jaar-value-box">    
                                                                    <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                    <input type="text" class="form-control" maxlength="256">    
                                                            </div>                                  
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                        <h5>2 jaar geleden</h5>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                        <input type="text" class="form-control" maxlength="256">
                                                                </div>                                      
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                </div>

                                                <div class="col-md-4">
                                                        <h5>3 jaar geleden</h5>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                        <input type="text" class="form-control" maxlength="256">
                                                                </div>                                      
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-header collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_22">
                                            <a class="card-title">
                                              Liquiditeit toevoegen
                                            </a>
                                        </div>
                                        <div id="collapse_22" class="card-body collapse" data-parent="#accordion" >
                                           <div class="row">
                                                <div class="col-md-4">
                                                        <h5>Laatste jaar</h5>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                        <input type="text" class="form-control" maxlength="256">
                                                                </div>                                      
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                </div>

                                                <div class="col-md-4">
                                                        <h5>2 jaar geleden</h5>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                        <input type="text" class="form-control" maxlength="256">
                                                                </div>                                      
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                </div>

                                                <div class="col-md-4">
                                                        <h5>3 jaar geleden</h5>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Salaris</label>
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                    
                                                                        <input type="text" class="form-control" maxlength="256">
                                                                </div>                                      
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Dividend</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                        <div class="form-group">
                                                                <label for="Salaris-1" class="col-form-label">Overwinst / Winst BV</label>  
                                                                <div class="jaar-value-box">    
                                                                        <i class="fa fa-eur" aria-hidden="true"></i>                                        
                                                                        <input type="text" class="form-control" maxlength="256">    
                                                                </div>                                  
                                                        </div>
                                                </div>
                                            </div>
                                        </div>                                      
                                    </div>
                                </div>
                            </div>
                        </div>                        
                    </div>                    
                    <div class="col-md-4 start-right">                      
                        <div class="sidebar-item">
                        <div class="make-me-sticky">
                            <button class="btn close-sidebar"><i class="fa fa-times-circle" aria-hidden="true"></i></button>
                                <div class="start-box">
                                    <h2 class="big-heading">Overzicht</h2>
                                    <div class="final-value" id="div_overzicht" style="display:none;">
                                        <ul>
                                            <li>
                                                <h3>Uw totale toetsinkomen</h3>
                                                <h4>&euro; <span>99.999</span></h4>
                                            </li>
                                            <li>
                                                <h3>Maximale hypotheek</h3>
                                                <h4>&euro; <span>999.999</span></h4>
                                            </li>
                                            <li>
                                                <h3>Maandlasten</h3>
                                                <h4>&euro; <span>91.999</span></h4>
                                            </li>
                                        </ul>
                                    </div>
                                    <h4><span> Op basis van 3,01% toetsrente</span> <i class="fa fa-info-circle" aria-hidden="true"></i></h4>
                                    <p class="box-msg">Uw berekening is nog niet helemaal accuraat. </p>
                                    <button type="submit" class="btn btn-primary btn-yellow">Bekijk totale berekening</button>
                                </div>
                                <div class="right-desc">
                                    <h3 class="big-sub-heading">Wil je advies of heb je vragen?</h3>
                                    <div class="user-desc">
                                        <p>Bel met een van onze adviseurs<span> 088 - 543 4564</span></p>
                                    </div>
                                    <div class="user-image">                                    
                                        <img src="'.FINAFORTE_URL.'/assets/images/user.png" alt="user name" title="user name">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary btn-yellow sidebar-hide-show">Overzicht Value</button>
        </div>
    </div>
    <input type="hidden" name="h_yearselection" id="h_yearselection" value="1" />
    <input type="hidden" name="h_typeselection" id="h_typeselection" />
    </div>
    <script type="text/javascript">    
        $("#single_slider_2").jRange({
            from: 1,
            to: 3,
            step: 1,
            scale: [1,2,3],
            format: "%s",
            width:500,
            showLabels: false,
            snap: true,
            onstatechange: function(value){
                //alert(value);
                if(value=="1"){
                    $("#div_inkomensgegevens_2 :input").attr("disabled", true);
                    $("#div_inkomensgegevens_3 :input").attr("disabled", true);
                }else if(value=="2"){
                    $("#div_inkomensgegevens_2 :input").attr("disabled", false);
                    $("#div_inkomensgegevens_3 :input").attr("disabled", true);
                }else if(value=="3"){
                    $("#div_inkomensgegevens_2 :input").attr("disabled", false);
                    $("#div_inkomensgegevens_3 :input").attr("disabled", false);
                }
            }
        });
        $(".sidebar-hide-show").click(function(){
            $(".start-right").show();
            $("body").addClass("static-sidebar");
        });
        $(".close-sidebar").click(function(){
            $(".start-right").hide();
            $("body").removeClass("static-sidebar");
        });
    </script>';
}

function basic_form(){
    global $wpdb;
    
    $responseArray = array();
    
    if ($_POST['txt_name'] == '' || trim($_POST['txt_name']) == '') {
        $error = array();
        $error['name'] = 'txt_name';
        $errorArray[] = $error;
    }
    if ($_POST['txt_phone'] == '' || trim($_POST['txt_phone']) == '') {
        $error = array();
        $error['name'] = 'txt_phone';
        $errorArray[] = $error;
    }
    if ($_POST['txt_email'] == '' || trim($_POST['txt_email']) == '') {
        $error = array();
        $error['name'] = 'txt_email';
        $errorArray[] = $error;
    }
    if(!isset($_POST['chk_privacy'])){
        $error = array();
        $error['name'] = 'div_privacy';
        $errorArray[] = $error;
    }
    if (count($errorArray) == 0) {        
        $_SESSION['finaforte']['basic_form'] = "1";
        $_SESSION['finaforte']['name'] = trim($_POST['txt_name']);
        $_SESSION['finaforte']['phone'] = trim($_POST['txt_phone']);
        $_SESSION['finaforte']['email'] = trim($_POST['txt_email']);
        echo json_encode(array("status" => 1, "message" => "Load calculator first page here!"));
    }else{
        $responseArray['status'] = 0;
        $responseArray['error'] = $errorArray;
        echo json_encode($responseArray);
        exit;
    }
    die;
}
add_action('wp_ajax_basic_form', 'basic_form');
add_action('wp_ajax_nopriv_basic_form', 'basic_form');


function start_calculationform(){
    start_calculation_form();
    die;
}
add_action('wp_ajax_start_calculationform', 'start_calculationform');
add_action('wp_ajax_nopriv_start_calculationform', 'start_calculationform');
?>